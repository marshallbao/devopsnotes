### IO 的概念

IO 这个概念，简单理解就是输入输出。我们知道从最上层到最下层，层次之间存在着太多的接口，这些接口之间

每次交互都可以称作一次 IO，也就是广义上的 IO。



### io 调度

I/O 调度是计算机操作系统用来决定将 I/O 操作提交到存储卷的顺序的方法。I/O 调度有时也称为磁盘调度。

IO 调度器选择在磁盘调度层之前，通过充分利用并行性和顺序性，提高系统整体 IO 吞吐。

内核中实现的 IO 调度器主要有四种,分别是 noop io scheduler、anticipatory io scheduler、deadline io 

scheduler和 cfq io scheduler。

#### 调度算法概念

1. 当向设备写入数据块或从设备读出数据块时，请求会被放置在一个队列中等待完成。
2. 每个块设备都有自己的队列。
3. I/O调度程序负责维护这些队列的顺序，以更有效地利用介质。I/O调度程序将无序的I/O操作变为有序的I/O操作。
4. 在进行调度之前，内核必须首先确定队列中一共有多少个请求。

从原理上看：

1、cfq 是 一种比较通用的调度算法，是一种以进程为出发点考虑的调度算法，保证大家尽量公平。

2、deadline 是一种以提高机械硬盘吞吐量为思考出发点的调度算法，只有当有 io 请求达到最终期限的时候才进

行调度，非常适合业务比较单一并且 IO 压力比较重的业务，比如数据库。

3、noop？思考对象如果拓展到固态硬盘，那么你就会发现，无论 cfq 还是 deadline，都是针对机械硬盘的结构

进行的队列算法调整，而这种调整对于固态硬盘来说，完全没有意义。对于固态硬盘来说，IO调度算法越复杂，

效率就越低，因为额外要处理的逻辑越多。所以，固态硬盘这种场景下，使用 noop 是最好的，deadline 次之，

而 cfq 由于复杂度的原因，无疑效率最低。



### 磁盘调度

- 磁盘调度着重于优化磁盘头在磁盘表面移动的物理行为，以减少寻道时间（尤其针对传统旋转硬盘）。
- 它将来自操作系统或应用程序的多个IO请求按特定顺序调度到磁盘驱动器进行处理。
- 磁盘调度更贴近硬盘的实际操作，通过最小化机械运动来优化响应时间和服务速度。

常见磁盘调度算法 ：

- **FCFS（First-Come, First-Served）** ：FIFO方式，简单但无优化。
- **SSTF（Shortest Seek Time First）** ：优先处理离当前磁头位置最近的请求。
- **SCAN（电梯算法）** ：磁头从一端扫到另一端再回扫。
- **C-SCAN（循环扫描）** ：类似SCAN，但磁头到一端后立即返回起点继续。



参考

https://www.php.cn/faq/677636.html

https://www.cnblogs.com/kongzhongqijing/articles/5786002.html

https://blog.csdn.net/lxm13613538669/article/details/126687833