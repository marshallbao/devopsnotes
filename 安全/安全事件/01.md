### 事件发生

2022.08.04 17:33 

收到监控报警 节点验证人服务宕机

尝试登录机器进行查看，发现密码错误登录不了，其他主机正常，尝试 telnet 端口，node_export 正常，irita 服务端口都不通

17:50
登录阿里云控制台查找操作记录，发现这台主机被人改了密码，然后重启了主机

17:52
联系项目方的人，确认密码是否被修改和重启服务器

18:10
项目方报告被攻击

18：19
发来阿里云告警截图，确认被攻击

根据截图提供的 AccessKey ID ，确定对应的用户，和操作记录吻合

### 处理

禁用了这个 AccessKey

通过阿里云 AccessKey 审计功能，查看泄露的 AccessKey，做了哪些动作，涉及哪些资源，源地址 ip 是多少

通过阿里云 arm 用户查看泄露的 AccessKey 有哪些权限（有哪些权限就可能有哪些隐患）

### 结论

AccessKey 泄露了，可能是代码泄露，可能是传输的时候泄露，也可能是记录泄露，

### 防范

  1、账号密码不要记录在公共服务上
  2、账号密码不要一起通过公网进行传递，进行分离传递
  3、尽量加密后传递
  4、做好权限限制，基于最小权限原则
  5、代码、日志、报错审计要做好，切不可泄露密码


https://blog.csdn.net/MSB_WLAQ/article/details/120765060
https://cloud.tencent.com/developer/article/2029148
https://www.whkakaxi.com/news/1105.html