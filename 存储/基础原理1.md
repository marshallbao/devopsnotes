## EC

一般上我们如果要保证数据高可用，主流的有两种策略：

- 多副本

- 纠删码

  

结合目前经验上的磁盘的损坏率(大约是年损坏率7%), 3个副本可以达到一个工业可接受的可靠性, 这个可靠性的预期大约是11个9以上(99.999999999%的概率不丢数据).

但是3副本的方式要额外浪费2倍的存储空间，为了节省空间。纠删码（Erasure-Code）也称擦除码应运而生。

相比多副本复制而言， 纠删码能够以更小的数据冗余度获得更高数据可靠性，但编码方式较复杂，需要大量计算 。纠删码只能容忍数据丢失，无法容忍数据篡改，纠删码正是得名与此。

#### EC基本原理

EC的定义：Erasure Code是一种编码技术，它可以将n份原始数据，增加m份数据，并能通过n+m份中的任意n份数据，还原为原始数据。即如果有任意小于等于m份的数据失效，仍然能通过剩下的数据还原出来。

纠删码是一种恢复丢失和损坏数据的数学算法，目前，纠删码技术在分布式存储系统中的应用主要有三类:

阵列纠删码（Array Code）: RAID5、RAID6 等

RS(Reed-Solomon)里德-所罗门类纠删码：例如 minio 对象存储就是用的这类纠删码

LDPC(LowDensity Parity Check Code)低密度奇偶校验纠删码：目前主要用于通信、视频和音频编码等领域

在EC的计算中, 编解码是一个比较耗时的过程, 因此业界也在不断寻找优化的方法, 不论从理论算法上还是从计算机指令的优化上

参考：

​	https://blog.csdn.net/shelldon/article/details/54144730

​	https://blog.openacid.com/storage/ec-1/

## RAID

RAID 本质上跟EC没有区别, 它是单机系统时代被广泛使用的成熟实现. EC可以认为是分布式系统发展起来后, RAID算法在多机系统上的重新实现:

- RAID-0 相当于单副本;
- RAID-1 相当于2副本;
- RAID-5 相当于EC的n+1模式, n个数据块+1个校验块;
- RAID-6 相当于EC的n+2模式, n个数据块+2个校验块;

